#{extends 'CRUD/layout.html' /}
#{set allowInsert:"${!blockInsert}" /}
#{set allowUpdate:"${!blockUpdate}" /}
#{set allowDelete:"${!blockDelete}" /}

<h2>&{'crud.show.title', type.modelName}</h2>
<div class="step">
    <div id="middle-wizard">
        #{form action:@save(object._key()), id:'formId', enctype:'multipart/form-data'}
            #{crud.form }
                #{crud.custom 'name'}
                    #{field 'object.name'}
                        <div class="form-group ${field.errorClass ? 'has-error' : ''}">
                            <input type="text" id="${field.id}" name="${field.name}" class="form-control fill-tooltip-grow" readonly placeholder="&{field.name}" alt="&{field.name}" title="&{field.name}" value="&{field.value}" />
                            <span class="input-icon" style="background-color: #ececec;">
                                <i class="icon-keyboard"></i>
                            </span>
                            #{ifError field.name}
                                <span id="helpBlock2" class="help-block">${field.error.raw()}</span>
                            #{/ifError} 
                        </div>
                    #{/field}
                #{/crud.custom}                    
                #{crud.custom 'description'}
                    #{field 'object.description'}
                        <div class="form-group ${field.errorClass ? 'has-error' : ''}">
                            <textarea id="${field.id}" name="${field.name}" class="form-control fill-tooltip-grow" readonly placeholder="&{field.name}" alt="&{field.name}" title="&{field.name}">&{field.value}</textarea>
                            #{ifError field.name}
                                <span id="helpBlock2" class="help-block">${field.error.raw()}</span>
                            #{/ifError} 
                        </div>
                    #{/field}                    
                #{/crud.custom}                
            #{/crud.form }
            <div class="row">
                <div class="col-md-12 add_bottom_30 btn-group btn-file-responsive">
                    <button type="button" class="button_medium" data-toggle="modal" data-target="#modal_warning">&{'crud.save'}</button>
                    <a href="@{list()}" class="button_medium" onclick="javascript: block();">&{'crud.cancel'}</a>
               </div>
            </div>
            <!-- Modal -->
                <div class="modal fade" id="modal_warning" tabindex="-1" role="dialog" aria-labelledby="modal_warning">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                                <h4 class="modal-title"><img src="@{'public/images/warning.png'}" style="height: 25px; margin: 5px;">&{'title.modal.warning'}</h4>
                            </div>
                            <div class="modal-body" style="margin-bottom: 15px;">
                                <font id="messageConfirm">&{'message.warning.alter.system.param', object.name}</font>
                            </div>
                            <div class="modal-footer">
                                <button class="button_medium_outline btn-modal" type="submit" name="_save" onclick="javascript: block();" >&{'ok'}</button>
                                <button type="button" class="button_medium_outline btn-modal" data-dismiss="modal">&{'cancel'}</button>
                            </div>
                        </div>
                    </div>
                </div>
            <!-- /Modal -->
        #{/form}
    </div>
</div>
