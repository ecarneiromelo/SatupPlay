#{extends 'CRUD/layout.html' /}
#{set allowInsert:"${!blockInsert}" /}
#{set allowUpdate:"${!blockUpdate}" /}
#{set allowDelete:"${!blockDelete}" /}

<h2>&{'menu.change.pass'}</h2>
<div class="step">
    <div id="middle-wizard">
        #{form action:@savePassword(), id:'showForm', enctype:'multipart/form-data'}
            #{field 'object.pass'}
             <div class="form-group ${field.errorClass ? 'has-error' : ''}">
                <input type="password" id="${field.id}" name="${field.name}" class="form-control fill-tooltip-grow" placeholder="&{field.name}" alt="&{field.name}" title="&{field.name}" value="${params[field.name]?.escape()?.raw() ?: field.error?.message == 'validation.required' ? '' : _value?.escape()?.raw()}" />
                <span id="${field.id}_icon" class="input-icon">
                    <i class="icon-lock"></i>
                </span>
                #{ifError field.name}
                    <span id="helpBlock2" class="help-block">${field.error.raw()}</span>
                #{/ifError} 
            </div>
            #{/field}     
            #{field 'object.newPass'}
             <div class="form-group ${field.errorClass ? 'has-error' : ''}">
                <input type="password" id="${field.id}" name="${field.name}" class="form-control fill-tooltip-grow" placeholder="&{field.name}" alt="&{field.name}" title="&{field.name}" value="${params[field.name]?.escape()?.raw() ?: field.error?.message == 'validation.required' ? '' : _value?.escape()?.raw()}" />
                <span id="${field.id}_icon" class="input-icon">
                    <i class="icon-lock"></i>
                </span>
                #{ifError field.name}
                    <span id="helpBlock2" class="help-block">${field.error.raw()}</span>
                #{/ifError} 
            </div>
            #{/field}   
            #{field 'object.checkPass'}
             <div class="form-group ${field.errorClass ? 'has-error' : ''}">
                <input type="password" id="${field.id}" name="${field.name}" class="form-control fill-tooltip-grow" placeholder="&{field.name}" alt="&{field.name}" title="&{field.name}" value="${params[field.name]?.escape()?.raw() ?: field.error?.message == 'validation.required' ? '' : _value?.escape()?.raw()}" />
                <span id="${field.id}_icon" class="input-icon">
                    <i class="icon-lock"></i>
                </span>
                #{ifError field.name}
                    <span id="helpBlock2" class="help-block">${field.error.raw()}</span>
                #{/ifError} 
            </div>
            #{/field}
            <div class="row">
                <div class="col-md-12 add_bottom_30">
                    <button class="button_medium" type="submit" name="_save">&{'crud.save'}</button>
                </div>
            </div>
        #{/form}
    </div>
</div>