#{extends 'CRUD/layout.html' /}
#{set allowInsert:"${!blockInsert}" /}
#{set allowUpdate:"${!blockUpdate}" /}
#{set allowDelete:"${!blockDelete}" /}

<h2>&{'crud.blank.title', type.modelName}</h2>
<div class="step">
    <div id="middle-wizard">
        #{form action:@create(), enctype:'multipart/form-data'}
            #{crud.form}
            	#{crud.custom 'dsPosicao'}
                	#{field 'object.dsPosicao'}
					    <div class="form-group ${field.errorClass ? 'has-error' : ''}">
					        <input type="text" id="${field.id}" name="${field.name}" class="form-control fill-tooltip-grow" placeholder="&{field.name}" alt="&{field.name}" title="&{field.name}" value="${params[field.name]?.escape()?.raw() ?: field.error?.message == 'validation.required' ? '' : _value?.escape()?.raw()}" />
					        <span id="${field.id}_icon" class="input-icon">
					            <i class="fa fa-calculator"></i>
					        </span>
					        <div id="map" class="col-md-12"></div>
					        #{ifError field.name}
					            <span id="helpBlock2" class="help-block">${field.error.raw()}</span>
					        #{/ifError} 
					    </div>
					#{/field}
                #{/crud.custom}
            #{/crud.form}
            #{system.addCrudButtons /}
        #{/form}
    </div>
</div>
#{set 'moreScripts'}
 <script type="text/javascript">

	function initMap() {
		var latLng = {lat: -15.792982, lng: -47.886226};
		var map = new google.maps.Map(document.getElementById('map'), {
		  zoom: 15,
		  center: latLng
		});
		google.maps.Map.addListener('click', function() {
		   alert();  // in event.latLng  you have the coordinates of click
		   console('aqui');
		   
		});
	}
 
 </script>
#{/set}